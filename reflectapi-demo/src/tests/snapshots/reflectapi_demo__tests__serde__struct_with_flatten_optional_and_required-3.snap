---
source: reflectapi-demo/src/tests/serde.rs
expression: "super::into_rust_code::<TestStructWithFlattenOptionalAndRequired>()"
---
// DO NOT MODIFY THIS FILE MANUALLY
// This file was generated by reflectapi-cli
//
// Schema name:
//

#![allow(non_camel_case_types)]
#![allow(dead_code)]

pub use interface::Interface;
pub use reflectapi::rt::*;

pub mod interface {

    #[derive(Debug)]
    pub struct Interface<C: reflectapi::rt::Client + Clone> {
        client: C,
        base_url: std::string::String,
    }

    impl<C: reflectapi::rt::Client + Clone> Interface<C> {
        pub fn new(client: C, base_url: std::string::String) -> Self {
            Self { client, base_url }
        }
        pub async fn inout_test(
            &self,
            input: super::types::reflectapi_demo::tests::serde::TestStructWithFlattenOptionalAndRequired,
            headers: reflectapi::Empty,
        ) -> Result<
            super::types::reflectapi_demo::tests::serde::TestStructWithFlattenOptionalAndRequired,
            reflectapi::rt::Error<reflectapi::Empty, C::Error>,
        > {
            reflectapi::rt::__request_impl(
                &self.client,
                &self.base_url,
                "/inout_test",
                input,
                headers,
            )
            .await
        }
    }
}
pub mod types {

    pub mod reflectapi_demo {
        pub mod tests {
            pub mod serde {

                #[derive(Debug, serde::Serialize, serde::Deserialize)]
                pub struct TestStructRenameAll {
                    #[serde(rename = "fieldName")]
                    pub field_name: u8,
                }

                #[derive(Debug, serde::Serialize, serde::Deserialize)]
                pub struct TestStructWithFlattenNested {
                    pub f: u8,
                }

                #[derive(Debug, serde::Serialize, serde::Deserialize)]
                pub struct TestStructWithFlattenOptionalAndRequired {
    #[serde(default, skip_serializing_if = "std::option::Option::is_none", flatten)]
    pub g: std::option::Option<super::super::super::reflectapi_demo::tests::serde::TestStructWithFlattenNested>,
    #[serde(flatten)]
    pub k: super::super::super::reflectapi_demo::tests::serde::TestStructRenameAll,
}
            }
        }
    }
}
